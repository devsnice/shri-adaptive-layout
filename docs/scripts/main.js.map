{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/header/header.ts","webpack:///./src/components/videocontrol/audioAnalyse.ts","webpack:///./src/components/videocontrol/canvasVideo.ts","webpack:///./src/components/videocontrol/player.ts","webpack:///./src/components/videocontrol/videocontrol.ts","webpack:///./src/components/videocontrol/webglVideo.ts","webpack:///./src/components/widget/camera.widget.ts","webpack:///./src/components/widget/player.widget.ts","webpack:///./src/components/widget/questions.widget.ts","webpack:///./src/components/widget/stats.widget.ts","webpack:///./src/components/widget/themal.widget.ts","webpack:///./src/components/widget/widget.ts","webpack:///./src/pages/index.page.ts","webpack:///./src/pages/index.ts","webpack:///./src/pages/videocontrol.page.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/pages/index.ts\");\n","const domUtils = {\n  doesNodeContainClick: (node: HTMLElement, e: Event): boolean => {\n    if (!node || !e) return false;\n\n    // @ts-ignore\n    if (node.contains(e.target)) return true;\n  }\n};\n\nexport default class Navigation {\n  menuOpened: boolean;\n  headerMenu: HTMLElement;\n  headerBurgerMenu: HTMLElement;\n\n  constructor({ selector }) {\n    this.menuOpened = false;\n    this.headerMenu = document.querySelector(selector);\n    this.headerBurgerMenu = document.querySelector(\"#header-burger\");\n\n    if (this.isMobile()) {\n      this.initNavigation();\n    }\n  }\n\n  isMobile() {\n    const maxMobileWidth = 768;\n\n    return window.innerWidth < maxMobileWidth;\n  }\n\n  initNavigation() {\n    this.headerMenu.classList.add(\"header-menu-list_state-mobile\");\n\n    this.headerBurgerMenu.addEventListener(\"click\", () => {\n      if (!this.menuOpened) {\n        this.openNavigation();\n      } else {\n        this.closeNavigation();\n      }\n    });\n  }\n\n  openNavigation() {\n    this.headerMenu.classList.add(\"header-menu-list_state-mobile-opened\");\n\n    this.menuOpened = true;\n  }\n\n  closeNavigation() {\n    this.headerMenu.classList.remove(\"header-menu-list_state-mobile-opened\");\n\n    this.menuOpened = false;\n  }\n}\n","// @ts-ignore\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\n\nconst context = new AudioContext();\n\nclass Analyse {\n  startShow: boolean;\n  bufferLength: number;\n  bands: Uint8Array;\n\n  node: any;\n  noiseLevelRange: any;\n  analyser: any;\n  source: any;\n\n  constructor({ video, noiseLevelRange }) {\n    this.node = context.createScriptProcessor(2048, 1, 1);\n    this.noiseLevelRange = noiseLevelRange;\n\n    this.analyser = context.createAnalyser();\n\n    this.bufferLength = this.analyser.frequencyBinCount;\n    this.bands = new Uint8Array(this.bufferLength);\n\n    this.startShow = false;\n\n    video.addEventListener(\"canplay\", () => {\n      if (!this.source) {\n        this.source = context.createMediaElementSource(video);\n\n        this.source.connect(this.analyser);\n        this.analyser.connect(this.node);\n        this.node.connect(context.destination);\n        this.source.connect(context.destination);\n\n        this.node.onaudioprocess = e => {\n          this.analyser.getByteFrequencyData(this.bands); // copy current data to this.bands\n\n          if (!this.startShow) {\n            this.show();\n            this.startShow = true;\n          }\n        };\n      }\n    });\n  }\n\n  getAverageVolume(array) {\n    let values = 0;\n\n    for (let i = 0; i < array.length; i++) {\n      values += array[i];\n    }\n\n    const average = values / array.length;\n\n    // calculate in 100% scale, 1% is 2.56\n    return average === 0 ? 0 : average / 2.56;\n  }\n\n  show() {\n    requestAnimationFrame(() => {\n      this.noiseLevelRange.value = this.getAverageVolume(this.bands);\n\n      this.show();\n    });\n  }\n}\n\nexport default Analyse;\n","class CanvasVideo {\n  video: HTMLVideoElement;\n  videoPlayer: HTMLVideoElement;\n  stopVideo: boolean;\n\n  canvas: HTMLCanvasElement;\n  canvasHelper: HTMLCanvasElement;\n\n  constructor({ video, videoPlayer }) {\n    this.video = video;\n    this.videoPlayer = videoPlayer;\n    this.stopVideo = false;\n\n    this.canvas = null;\n    this.canvasHelper = null;\n  }\n\n  applyBrightness(data, brightness) {\n    for (let i = 0; i < data.length; i += 4) {\n      data[i] += 255 * (brightness / 100);\n      data[i + 1] += 255 * (brightness / 100);\n      data[i + 2] += 255 * (brightness / 100);\n    }\n  }\n\n  applyContrast(data, contrast) {\n    const factor = (259.0 * (contrast + 255.0)) / (255.0 * (259.0 - contrast));\n\n    for (let i = 0; i < data.length; i += 4) {\n      data[i] = this.truncateColor(factor * (data[i] - 128.0) + 128.0);\n      data[i + 1] = this.truncateColor(factor * (data[i + 1] - 128.0) + 128.0);\n      data[i + 2] = this.truncateColor(factor * (data[i + 2] - 128.0) + 128.0);\n    }\n  }\n\n  truncateColor(value) {\n    if (value < 0) {\n      value = 0;\n    } else if (value > 255) {\n      value = 255;\n    }\n\n    return value;\n  }\n\n  filter({ video, width, height, contrast, brightness }) {\n    if (!this.canvasHelper) {\n      this.canvasHelper = document.createElement(\"canvas\");\n\n      this.canvasHelper.width = width;\n      this.canvasHelper.height = height;\n    }\n\n    const contextHelper = this.canvasHelper.getContext(\"2d\");\n\n    contextHelper.drawImage(video, 0, 0, width, height);\n\n    const idata = contextHelper.getImageData(0, 0, width, height);\n\n    var data = idata.data;\n\n    this.applyBrightness(data, brightness);\n    this.applyContrast(data, contrast);\n\n    return idata;\n  }\n\n  play({ canvasInited, brightness, contrast, size: { width, height } }) {\n    if (!canvasInited) {\n      this.canvas = document.createElement(\"canvas\");\n\n      this.canvas.style.width = width;\n      this.canvas.style.height = height;\n\n      this.canvas.width = width;\n      this.canvas.height = height;\n\n      this.videoPlayer.appendChild(this.canvas);\n    } else {\n      this.stopVideo = true;\n    }\n\n    const context = this.canvas.getContext(\"2d\");\n\n    const draw = () => {\n      requestAnimationFrame(() => {\n        const filteredImage = this.filter({\n          video: this.video,\n          width,\n          height,\n          contrast,\n          brightness\n        });\n\n        context.putImageData(filteredImage, 0, 0);\n\n        if (this.stopVideo || this.video.paused || this.video.ended) {\n          this.stopVideo = false;\n\n          return false;\n        } else {\n          draw();\n        }\n      });\n    };\n\n    draw();\n  }\n}\n\nexport default CanvasVideo;\n","import WebglVideo from \"./webglVideo\";\nimport CanvasVideo from \"./canvasVideo\";\nimport Analyse from \"./audioAnalyse\";\n\n/**\n * PlayerTemplate - generate video-player from <template> tag\n */\nexport class PlayerTemplate {\n  template: HTMLTemplateElement;\n\n  constructor() {\n    this.template = document.getElementById(\"template-player\") as HTMLTemplateElement;\n  }\n\n  render(id) {\n    const element: Node = this.template.content\n      .querySelector(\".videocontrol-list__item\")\n      .cloneNode(true);\n\n    // player-{id}\n    (<Element>element).querySelector(\".vc-player\").setAttribute(\"id\", id);\n\n    // player-{id}-video\n    (<Element>element).querySelector(\"video\").setAttribute(\"id\", `${id}-video`);\n\n    // player-{id}-webgl-video\n    (<Element>element).querySelector(\"input\").setAttribute(\"id\", `${id}-webgl-video`);\n\n    return element;\n  }\n}\n\n/**\n * Player is a wrapper around html5 video element and HLS standart,\n * it has special behavior for our application.\n */\nexport class Player {\n  settings: {\n    url: string;\n    webglInited: boolean;\n    canvasInited: boolean;\n    containerBounds: {\n      left: number;\n      top: number;\n      width: number;\n      height: number;\n    };\n    isFullscreen: boolean;\n  };\n\n  videoSettings: {\n    brightness: number;\n    contrast: number;\n    isFullscreen: boolean;\n  };\n\n  containerElement: HTMLElement;\n  player: HTMLElement;\n  video: HTMLVideoElement;\n  brightnessRange: HTMLElement;\n  noiseLevelRange: HTMLElement;\n  contrastRange: HTMLElement;\n\n  webglVideo: WebglVideo;\n  canvasVideo: CanvasVideo;\n\n  initPromise: Promise<HTMLVideoElement>;\n  analyser: any;\n\n  constructor({\n    url,\n    containerElement,\n    playerElement\n  }: {\n    url: string;\n    containerElement: HTMLElement;\n    playerElement: HTMLElement;\n  }) {\n    this.settings = {\n      url,\n      webglInited: false,\n      canvasInited: false,\n      containerBounds: null,\n      isFullscreen: false\n    };\n\n    this.videoSettings = {\n      brightness: 0,\n      contrast: 0,\n      isFullscreen: false\n    };\n\n    this.containerElement = containerElement;\n    this.player = playerElement;\n    this.video = playerElement.querySelector(\"video\");\n    this.brightnessRange = playerElement.querySelector(\".vc-player__brightness\");\n    this.noiseLevelRange = playerElement.querySelector(\".vc-player__noise-level\");\n    this.contrastRange = playerElement.querySelector(\".vc-player__contrast\");\n\n    this.webglVideo = new WebglVideo({\n      video: this.video,\n      videoPlayer: this.player\n    });\n\n    this.canvasVideo = new CanvasVideo({\n      video: this.video,\n      videoPlayer: this.player\n    });\n\n    this.initPromise = null;\n\n    this.init();\n    this.initEvents();\n  }\n\n  setContainerBounds() {\n    if (!this.settings.containerBounds) {\n      this.settings.containerBounds = this.containerElement.getBoundingClientRect();\n    }\n\n    return this.settings.containerBounds;\n  }\n\n  init() {\n    if (this.initPromise) {\n      return this.initPromise;\n    }\n\n    // @ts-ignore\n    this.initPromise = new Promise((resolve, reject) => {\n      // @ts-ignore\n      if (window.Hls.isSupported()) {\n        // @ts-ignore\n        const hls = new window.Hls();\n\n        hls.loadSource(this.settings.url);\n        hls.attachMedia(this.video);\n\n        // @ts-ignore\n        hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          resolve(this.video);\n        });\n      } else if (this.video.canPlayType(\"application/vnd.apple.mpegurl\")) {\n        this.video.src = this.settings.url;\n\n        this.video.addEventListener(\"loadedmetadata\", () => {\n          resolve(this.video);\n        });\n      }\n    });\n  }\n\n  play() {\n    this.video.play();\n  }\n\n  stop() {\n    this.video.pause();\n  }\n\n  openFullscreen() {\n    if (this.settings.isFullscreen) return false;\n\n    this.setContainerBounds();\n\n    const { containerBounds } = this.settings;\n\n    this.video.muted = false;\n\n    const playerBounds = this.player.getBoundingClientRect();\n\n    this.player.style.transform = `\n        translateX(0px)\n        translateY(0px)\n    `;\n\n    this.player.style.width = playerBounds.width + \"px\";\n    this.player.style.height = playerBounds.height + \"px\";\n    this.player.style.transitionProperty = \"\";\n    this.player.style.transitionDuration = \"\";\n    this.player.style.zIndex = \"2\";\n\n    window.requestAnimationFrame(() => {\n      this.player.style.transitionProperty = \"transform, width, height\";\n      this.player.style.transitionDuration = \"0.3s\";\n\n      // move element to top/left bounder of the list-container\n      this.player.style.transform = `\n        translateX(-${playerBounds.left - containerBounds.left}px)\n        translateY(-${playerBounds.top - containerBounds.top}px)\n      `;\n\n      this.player.style.width = containerBounds.width + \"px\";\n      this.player.style.height = containerBounds.height + \"px\";\n    });\n\n    this.settings.isFullscreen = true;\n  }\n\n  closeFullscreen() {\n    if (!this.settings.isFullscreen) return false;\n\n    this.video.muted = true;\n\n    this.player.style.zIndex = \"1\";\n\n    window.requestAnimationFrame(() => {\n      this.player.style.width = \"100%\";\n      this.player.style.height = \"100%\";\n\n      this.player.style.transform = `\n          translateX(0px)\n          translateY(0px)\n      `;\n    });\n\n    this.settings.isFullscreen = false;\n  }\n\n  playVideoOnWebgl() {\n    this.setContainerBounds();\n\n    if (!this.settings.webglInited) {\n      this.video.classList.add(\"vc-player__video_state-hidden\");\n    }\n\n    this.webglVideo.play({\n      brightness: this.videoSettings.brightness,\n      webglInited: this.settings.webglInited\n    });\n\n    this.settings.webglInited = true;\n  }\n\n  playVideoOnCanvas() {\n    this.setContainerBounds();\n\n    if (!this.settings.canvasInited) {\n      this.video.classList.add(\"vc-player__video_state-hidden\");\n    }\n\n    this.canvasVideo.play({\n      canvasInited: this.settings.canvasInited,\n      size: {\n        width: this.settings.containerBounds.width,\n        height: this.settings.containerBounds.height\n      },\n      brightness: this.videoSettings.brightness,\n      contrast: this.videoSettings.contrast\n    });\n\n    this.settings.canvasInited = true;\n  }\n\n  changeBrightness(value) {\n    this.videoSettings.brightness = value;\n\n    // turn on webgl instead of canvas\n    // this.playVideoOnWebgl();\n    this.playVideoOnCanvas();\n  }\n\n  changeContrast(value: number) {\n    this.videoSettings.contrast = value;\n\n    this.playVideoOnCanvas();\n  }\n\n  initEvents() {\n    this.brightnessRange.addEventListener(\"change\", e => {\n      // @ts-ignore\n      this.changeBrightness(e.target.value);\n    });\n\n    this.contrastRange.addEventListener(\"change\", e => {\n      // @ts-ignore\n      this.changeContrast(e.target.value);\n    });\n\n    this.analyser = new Analyse({\n      video: this.video,\n      noiseLevelRange: this.noiseLevelRange\n    });\n  }\n\n  addEventListener(event, callback) {\n    this.player.addEventListener(event, callback);\n  }\n}\n","import { PlayerTemplate, Player } from \"./player\";\n\ninterface Broadcast {\n  player: Player;\n  url: string;\n  id: number;\n}\n\n/**\n * Videocontrol represents controller over our feature,\n * it initializes broadcasts and interact with user's actions\n */\nclass Videocontrol {\n  broadcasts: Array<Broadcast>;\n  element: HTMLElement;\n  elementShowAll: HTMLElement;\n\n  state = {\n    fullscreenId: null\n  };\n\n  constructor({ broadcasts, elementShowAll, element }) {\n    this.broadcasts = broadcasts;\n    this.element = element;\n    this.elementShowAll = elementShowAll;\n\n    this.state = {\n      fullscreenId: null\n    };\n\n    this.initPlayers();\n    this.initEvents();\n  }\n\n  closeFullPlayer() {\n    // play all players\n    this.broadcasts.forEach(broadcast => broadcast.player.play());\n\n    this.broadcasts[this.state.fullscreenId].player.closeFullscreen();\n\n    this.state.fullscreenId = null;\n  }\n\n  openFullPlayer(id) {\n    // stop all players except a fullscreen\n    this.broadcasts\n      .filter(broadcast => broadcast.id !== id)\n      .forEach(broadcast => broadcast.player.stop());\n\n    // open player in fullscreen\n    this.broadcasts[id].player.openFullscreen();\n\n    this.state.fullscreenId = id;\n  }\n\n  initEvents() {\n    this.elementShowAll.addEventListener(\"click\", () => {\n      this.closeFullPlayer();\n    });\n\n    this.elementShowAll.addEventListener(\"touchend\", () => {\n      this.closeFullPlayer();\n    });\n  }\n\n  initPlayers() {\n    this.broadcasts.forEach((broadcast, index) => {\n      const VideoTemplate: PlayerTemplate = new PlayerTemplate();\n      const listVideoElement: Node = VideoTemplate.render(`player-${index + 1}`);\n\n      this.element.appendChild(listVideoElement);\n\n      const VideoPlayer = new Player({\n        containerElement: this.element,\n        playerElement: (<Element>listVideoElement).querySelector(\".vc-player\"),\n        url: broadcast.url\n      });\n\n      VideoPlayer.init()\n        .then(() => {\n          VideoPlayer.play();\n\n          // Init events\n          VideoPlayer.addEventListener(\"click\", e => {\n            this.openFullPlayer(index);\n          });\n\n          VideoPlayer.addEventListener(\"touchend\", e => {\n            this.openFullPlayer(index);\n          });\n\n          // Save player to broadcasts array\n          this.broadcasts[index].id = index;\n          this.broadcasts[index].player = VideoPlayer;\n        })\n        .catch(err => console.warn(err));\n    });\n  }\n}\n\nexport default Videocontrol;\n","/**\n * It's my test solution of processing video with WebGL\n * https://www.youtube.com/watch?v=_ZQOUQsw_YI - interesting video about webgl\n * and yes, it works, but there's a problem with quality of video\n */\nclass WebglVideo {\n  video: HTMLVideoElement;\n  videoPlayer: HTMLVideoElement;\n  stopVideo: boolean;\n\n  canvas: HTMLCanvasElement;\n\n  constructor({ video, videoPlayer }) {\n    this.video = video;\n    this.videoPlayer = videoPlayer;\n    this.stopVideo = false;\n\n    this.canvas = null;\n  }\n\n  calculateBrightness(value) {\n    // от -0.5 до 0.5, 0 - картинка без изменений\n    return (value - 50) / 100;\n  }\n\n  play({ webglInited, brightness }) {\n    if (!webglInited) {\n      this.canvas = document.createElement(\"canvas\");\n\n      this.canvas.style.width = \"auto\";\n      this.canvas.style.height = \"100%\";\n\n      this.videoPlayer.appendChild(this.canvas);\n    } else {\n      this.stopVideo = true;\n    }\n\n    const gl = this.canvas.getContext(\"webgl\");\n\n    // Create new program using gsls\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.clearColor(255, 255, 255, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    const vertShaderSource = `\n        attribute vec2 position;\n        varying vec2 texCoords;\n        \n        void main() {\n          texCoords = (position + 1.0) / 2.0;\n          texCoords.y = 1.0 - texCoords.y;\n          gl_Position = vec4(position, 0, 1.0);\n        }\n      `;\n\n    const fragShaderSource = `\n        precision highp float;\n        varying vec2 texCoords;\n        uniform sampler2D textureSampler;\n        \n        void main() {\n          float brightness = ${this.calculateBrightness(brightness)};\n          vec4 color = texture2D(textureSampler, texCoords);\n          color.rgb += brightness;\n          gl_FragColor = color;\n        }\n      `;\n\n    const vertShader = gl.createShader(gl.VERTEX_SHADER);\n    const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n\n    gl.shaderSource(vertShader, vertShaderSource);\n    gl.shaderSource(fragShader, fragShaderSource);\n\n    gl.compileShader(vertShader);\n    gl.compileShader(fragShader);\n\n    const program = gl.createProgram();\n\n    gl.attachShader(program, vertShader);\n    gl.attachShader(program, fragShader);\n\n    gl.linkProgram(program);\n\n    gl.useProgram(program);\n\n    /** Magic\n     * set rectange\n     */\n    const vertices = new Float32Array([-1, -1, -1, 1, 1, 1, -1, -1, 1, 1, 1, -1]);\n\n    const vertexBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n\n    const positionLocation = gl.getAttribLocation(program, \"position\");\n\n    gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(positionLocation);\n    /** Magic end */\n\n    const draw = () => {\n      requestAnimationFrame(() => {\n        const texture = gl.createTexture();\n\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.video);\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n        if (!this.stopVideo) {\n          draw();\n        } else {\n          this.stopVideo = false;\n        }\n      });\n    };\n\n    draw();\n  }\n}\n\nexport default WebglVideo;\n","class CameraWidget {\n  template: HTMLTemplateElement;\n\n  constructor() {\n    this.template = document.getElementById(\"widget-camera-template\") as HTMLTemplateElement;\n  }\n\n  render() {\n    return this.template.content.cloneNode(true);\n  }\n}\n\nexport default CameraWidget;\n","interface IWidgetData {\n  albumcover: string;\n  artist: string;\n  track: {\n    name: string;\n    length: string;\n  };\n  volume: number;\n}\n\nclass PlayerWidget {\n  template: HTMLTemplateElement;\n  data: IWidgetData;\n  widget: Node;\n\n  constructor({ data }) {\n    this.template = document.getElementById(\"widget-player-template\") as HTMLTemplateElement;\n    this.data = data;\n    this.widget = this.template.content.cloneNode(true);\n  }\n\n  setInnerText(selector, text) {\n    const block = (<Element>this.widget).querySelector(selector);\n\n    if (block) {\n      block.innerText = text;\n    }\n  }\n\n  setCover() {\n    const block = (<Element>this.widget).querySelector(\".player-now__cover\");\n\n    block.setAttribute(\"src\", this.data.albumcover);\n  }\n\n  render() {\n    this.setCover();\n\n    this.setInnerText(\".player-now__title\", `${this.data.artist} ${this.data.track.name}`);\n\n    this.setInnerText(\".player-progress__time\", this.data.track.length);\n    this.setInnerText(\".player-volume__percentage\", `${this.data.volume}%`);\n\n    return this.widget;\n  }\n}\n\nexport default PlayerWidget;\n","class QuestionsWidget {\n  template: HTMLTemplateElement;\n  data: {\n    buttons: Array<string>;\n  };\n  widget: Node;\n\n  constructor({ data }) {\n    this.template = document.getElementById(\"widget-questions-template\") as HTMLTemplateElement;\n    this.data = data;\n    this.widget = this.template.content.cloneNode(true);\n  }\n\n  setInnerText(selector, text) {\n    const block = (<Element>this.widget).querySelector(selector);\n\n    if (block) {\n      block.innerText = text;\n    }\n  }\n\n  render() {\n    this.setInnerText(\".button_type-yellow\", this.data.buttons[0]);\n    this.setInnerText(\".button_type-grey\", this.data.buttons[1]);\n\n    return this.widget;\n  }\n}\n\nexport default QuestionsWidget;\n","class StatsWidget {\n  template: HTMLTemplateElement;\n\n  constructor() {\n    this.template = document.getElementById(\"widget-stats-template\") as HTMLTemplateElement;\n  }\n\n  render() {\n    return this.template.content.cloneNode(true);\n  }\n}\n\nexport default StatsWidget;\n","class ThemalWidget {\n  template: HTMLTemplateElement;\n  data: {\n    temperature: number;\n    humidity: number;\n  };\n  widget: Node;\n\n  constructor({ data }) {\n    this.template = document.getElementById(\"widget-thermal-template\") as HTMLTemplateElement;\n    this.data = data;\n    this.widget = this.template.content.cloneNode(true);\n  }\n\n  setInnerText(selector, text) {\n    const block = (<Element>this.widget).querySelector(selector);\n\n    if (block) {\n      block.innerText = text;\n    }\n  }\n\n  render() {\n    this.setInnerText(\n      \".widget-sensor_type-temp .widget-sensor__value\",\n      `${this.data.temperature}C`\n    );\n\n    this.setInnerText(\n      \".widget-sensor_type-humidity .widget-sensor__value\",\n      `${this.data.humidity}%`\n    );\n\n    return this.widget;\n  }\n}\n\nexport default ThemalWidget;\n","import StatsWidget from \"./stats.widget\";\nimport CameraWidget from \"./camera.widget\";\nimport QuestionsWidget from \"./questions.widget\";\nimport ThemalWidget from \"./themal.widget\";\nimport PlayerWidget from \"./player.widget\";\n\nimport * as Types from \"../../types\";\n\nconst WIDGET_TYPES = {\n  STATS: \"STATS\",\n  CAMERA: \"CAMERA\",\n  THERMAL: \"THERMAL\",\n  PLAYER: \"PLAYER\",\n  QUESTIONS: \"QUESTIONS\",\n  DEFAULT: \"DEFAULT\"\n};\n\nclass Widget {\n  event: Types.Event;\n  container: HTMLElement;\n  template: HTMLTemplateElement;\n  widget: HTMLElement;\n\n  constructor({ event, container }) {\n    this.event = event;\n    this.container = container;\n    this.template = document.getElementById(\"widget-template\") as HTMLTemplateElement;\n    this.widget = null;\n\n    this.render();\n  }\n\n  setDescription() {\n    if (this.event.description) {\n      this.widget\n        .querySelector(\".widget-content__text\")\n        .classList.add(`widget-content__text_width-${this.event.size}`);\n\n      const textElement: HTMLElement = this.widget.querySelector(\".widget-content__text\");\n\n      textElement.innerText = this.event.description;\n    }\n  }\n\n  setHeaderData() {\n    const titleElement: HTMLElement = this.widget.querySelector(\".widget-header-about__title\");\n    const typeElement: HTMLElement = this.widget.querySelector(\".widget-header__type\");\n    const dateElement: HTMLElement = this.widget.querySelector(\".widget-header__date\");\n\n    titleElement.innerText = this.event.title;\n    typeElement.innerText = this.event.source;\n    dateElement.innerText = this.event.time;\n\n    this.widget\n      .querySelector(\".widget-header-about__icon > use\")\n      .setAttribute(\"xlink:href\", `#${this.event.icon}`);\n\n    this.widget\n      .querySelector(\".widget-header-about__icon\")\n      .classList.add(`icon_${this.event.icon}`);\n  }\n\n  getDataTemplateType() {\n    const { data = {}, icon } = this.event;\n\n    if (data.type === \"graph\") {\n      return WIDGET_TYPES.STATS;\n    }\n\n    if (icon === \"cam\") {\n      return WIDGET_TYPES.CAMERA;\n    }\n\n    if (data.temperature) {\n      return WIDGET_TYPES.THERMAL;\n    }\n\n    if (data.albumcover) {\n      return WIDGET_TYPES.PLAYER;\n    }\n\n    if (data.buttons) {\n      return WIDGET_TYPES.QUESTIONS;\n    }\n\n    return WIDGET_TYPES.DEFAULT;\n  }\n\n  renderDataTemplate() {\n    const templateDataType = this.getDataTemplateType();\n    let dataContentBlock = null;\n\n    switch (templateDataType) {\n      case WIDGET_TYPES.STATS:\n        const statsWidget = new StatsWidget();\n\n        dataContentBlock = statsWidget.render();\n\n        break;\n\n      case WIDGET_TYPES.CAMERA:\n        const cameraWidget = new CameraWidget();\n\n        dataContentBlock = cameraWidget.render();\n\n        break;\n\n      case WIDGET_TYPES.PLAYER:\n        const playerWidget = new PlayerWidget({\n          data: this.event.data\n        });\n\n        dataContentBlock = playerWidget.render();\n\n        break;\n\n      case WIDGET_TYPES.QUESTIONS:\n        const questionsWidget = new QuestionsWidget({\n          data: this.event.data\n        });\n\n        dataContentBlock = questionsWidget.render();\n\n        break;\n\n      case WIDGET_TYPES.THERMAL:\n        const thermalWidget = new ThemalWidget({\n          data: this.event.data\n        });\n\n        dataContentBlock = thermalWidget.render();\n\n        break;\n    }\n\n    if (dataContentBlock) {\n      this.widget.querySelector(\".widget-content\").appendChild(dataContentBlock);\n    }\n  }\n\n  render() {\n    // @ts-ignore\n    this.widget = this.template.content.querySelector(\".widget\").cloneNode(true);\n\n    this.widget.classList.add(`widget_size-${this.event.size}`);\n    this.widget.classList.add(`widget_type-${this.event.type}`);\n\n    this.setHeaderData();\n    this.setDescription();\n    this.renderDataTemplate();\n\n    this.container.appendChild(this.widget);\n  }\n}\n\nexport default Widget;\n","import Widget from \"../components/widget/widget\";\n\nimport * as Types from \"../types\";\n\nclass IndexPage {\n  constructor() {\n    this.init();\n  }\n\n  renderDashboardWidgets(events: Array<Types.Event>) {\n    const dashboardWidgetsList = document.getElementById(\"dashboard-list\");\n\n    events.forEach(event => {\n      new Widget({\n        event,\n        container: dashboardWidgetsList\n      });\n    });\n  }\n\n  loadEvents() {\n    return fetch(\"http://localhost:8000/api/events\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        type: \"critical:info\",\n        offset: 0,\n        limit: 20\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(response => response.json())\n      .then(result => result)\n      .catch(err => alert(err));\n  }\n\n  init() {\n    this.loadEvents().then(events => {\n      this.renderDashboardWidgets(events);\n    });\n  }\n}\n\nexport default IndexPage;\n","import HeaderNavigation from \"../components/header/header\";\n\nimport IndexPage from \"./index.page\";\nimport VideocontrolPage from \"./videocontrol.page\";\n\nclass InitApplication {\n  page: any;\n  headerNavigation: any;\n  currentPage: string;\n\n  constructor() {\n    this.currentPage = window.location.pathname;\n\n    this.init();\n  }\n\n  routing() {\n    switch (this.currentPage) {\n      case \"/\":\n        this.page = new IndexPage();\n        break;\n\n      case \"/videocontrol.html\":\n        this.page = new VideocontrolPage();\n        break;\n    }\n  }\n\n  init() {\n    this.headerNavigation = new HeaderNavigation({\n      selector: \"#header-menu\"\n    });\n\n    this.routing();\n  }\n}\n\nnew InitApplication();\n","import Videocontrol from \"../components/videocontrol/videocontrol\";\n\nimport * as Types from \"../types\";\n\nclass VideoControlPage {\n  broadcasts: Array<Types.Broadcast>;\n\n  constructor() {\n    this.broadcasts = [\n      {\n        url:\n          \"http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fsosed%2Fmaster.m3u8\"\n      },\n      {\n        url:\n          \"http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fcat%2Fmaster.m3u8\"\n      },\n      {\n        url:\n          \"http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fdog%2Fmaster.m3u8\"\n      },\n      {\n        url:\n          \"http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fhall%2Fmaster.m3u8\"\n      }\n    ];\n\n    this.init();\n  }\n\n  init() {\n    const VideocontrolWidget = new Videocontrol({\n      broadcasts: this.broadcasts,\n      element: document.getElementById(\"vc-list\"),\n      elementShowAll: document.getElementById(\"vc-showall\")\n    });\n  }\n}\n\nexport default VideoControlPage;\n"],"sourceRoot":""}